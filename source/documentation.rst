.. _documentation:

Документация
============

Бучи программистов вы наверняка используете документации к API,
вроде JavaDoc или DoxyGen.
D компилятор имеет встроенный Ddoc функционал с опцией ``-D``.

Ddoc примеры
-------------

Документирующие комментарии в Ddoc обрамляются одним дополнительным комментирующим знаком.
Например для  ``/* */`` будет ``/** */``.
Обычные комментарии  игнорируются генератором.
Так как документация к функциям самая важная, вот пример.

.. literalinclude:: ../examplecode/ddoc_example.d
   :language: d

Также ddoc имеет простые макросы для дополнительных целей.
Их используют для отметки кусков текста в длинных пояснениях.
Более того, большая часть D сайта сгенерирована из комментариев исходного кода.

Запишем предыдущий пример в ``foo.d``,
затем  ``dmd -D foo.d`` сгенерирует ``foo.html`` файл с документацией к нему.
Сейчас она выглядит сыровато.
Для улучшения внешнего вида, можно расширить стандартный Ddoc шаблон.
Также макросы можно переопределить в генерацию XML или любого другого формата.


Улучшения
---------

Если нужен продвинутый механизм для генерации документации,
попробуйте `ddox <https://github.com/rejectedsoftware/ddox>`_.

Unittest в качестве примеров
----------------------------

Юниттесты с комментариями также показываются в документации.
Они служат в качестве примеров.
В отличие от примеров в документации, эти служат еще и частью
тестирования, а значит они проверяются на ошибки.

.. literalinclude:: ../examplecode/unittestexample.d
   :language: d

.. seealso::

   `Documentation Generator <http://dlang.org/ddoc.html>`_,
   `Ddox variant of the standard library documentation <http://vibed.org/temp/d-programming-language.org/phobos/index.html>`_
